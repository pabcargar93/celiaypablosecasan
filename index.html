<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Celia & Pablo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="css/styles.css" rel="stylesheet" />

    <!-- Tipografías -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Great+Vibes&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/sello-2.png" />
  </head>

  <body>
    <!-- INTRO -->
    <div class="intro" id="intro">
      <div class="envelope" id="envelope">
        <img
          class="envelope-img"
          src="assets/images/sin-solapa.png"
          alt="Sobre de boda"
        />
        <div class="flap"></div>
        <!-- Sello centrado -->
        <div class="seal">
          <img src="assets/images/sello-2.png" alt="Sello" />
        </div>
        <!-- Tarjeta -->
        <div class="card" id="card">
          <h2>Celia & Pablo</h2>
          <img
            src="assets/images/foto-tarjeta.jpeg"
            alt="Foto"
            class="card-photo"
          />
          <h4>¡Nos casamos!</h4>
          <p>3 · Octubre · 2026</p>
          <p>Arcos de la Frontera</p>
        </div>
      </div>
      <div class="hint">Haz clic en el sobre para abrir</div>
    </div>

    <!-- CONTENIDO -->
    <div class="content" id="content">
      <!-- CABECERA -->
      <header class="hero">
        <div class="img-head">
          <img src="assets/images/cabecera2.png" alt="Celia y Pablo" />
        </div>
        <div class="nombres">
          <h1>Celia</h1>
          <h2>&</h2>
          <h1>Pablo</h1>
        </div>
        <div class="fecha-elegante">
          <div class="mes">OCTUBRE</div>

          <div class="centro">
            <div class="lateral bordeado">SÁBADO</div>
            <div class="numero">3</div>
            <div class="lateral bordeado">13:00 H</div>
          </div>

          <div class="anio">2026</div>
        </div>
        <p class="place">Arcos de la Frontera</p>
      </header>

      <div class="divider"></div>

      <section class="section">
        <h2 class="title-section">CELEBRACIÓN</h2>

        <h4>
          <i class="fas fa-map-marker-alt location-icon"></i>Finca El Sotillo
          Viejo
        </h4>
        <div class="map">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3200.3456683688673!2d-5.8530105!3d36.6661891!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd0da5a6beb77ccb%3A0x2a2fe8349afdb99d!2sFinca%20El%20Sotillo%20Viejo!5e0!3m2!1ses!2ses!4v1769362912112!5m2!1ses!2ses"
            width="600"
            height="650"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </section>

      <!-- ITINERARIO -->
      <section class="section itinerary">
        <img src="assets/images/itinerario.png" width="100%" />
      </section>

      <!-- ASISTENCIA -->
      <section class="section asistencia">
        <!-- Flores decorativas -->
        <div class="asistencia-flores">
          <img src="assets/images/flor1.png" class="flor f1" alt="" />
          <img src="assets/images/flor2.png" class="flor f2" alt="" />
          <img src="assets/images/flor3.png" class="flor f3" alt="" />
          <img src="assets/images/flor4.png" class="flor f4" alt="" />
          <img src="assets/images/flor5.png" class="flor f5" alt="" />
          <img src="assets/images/flor6.png" class="flor f6" alt="" />
        </div>

        <!-- Contenido -->
        <div class="asistencia-content">
          <h2 class="title-section">FORMULARIO DE ASISTENCIA</h2>

          <p class="section-text">
            Nos hace mucha ilusión que nos acompañes. Pulsa el botón de abajo
            para rellenar el formulario y confirmar tu asistencia.
          </p>

          <a
            target="_blank"
            rel="noopener noreferrer"
            href="https://docs.google.com/forms/d/e/1FAIpQLSdnbxzh287L_MHBXH9vSQoFbxKbJ3GdN2Fny8L0WX_gGCkB0w/viewform?usp=dialog"
            class="btn"
            >Confirmar asistencia</a
          >
        </div>
      </section>

      <div class="divider"></div>

      <!-- BUS -->
      <section class="section bus-section">
        <h2 class="title-section">Autobuses</h2>

        <p class="section-text">
          Para facilitar el desplazamiento, habrá servicio de autobús con las
          siguientes paradas:
        </p>

        <div class="bus-cards">
          <!-- Parada 1 -->
          <div class="bus-card parada-1">
            <a
              href="https://www.google.com/maps"
              target="_blank"
              rel="noopener noreferrer"
              class="btn bus-btn"
            >
              Ver en Google Maps
            </a>
          </div>

          <!-- Parada 2 -->
          <div class="bus-card parada-2">
            <a
              href="https://www.google.com/maps"
              target="_blank"
              rel="noopener noreferrer"
              class="btn bus-btn"
            >
              Ver en Google Maps
            </a>
          </div>
        </div>
      </section>

      <!-- CUENTA ATRÁS -->
      <section class="section">
        <h2 class="title-section">Os esperamos en...</h2>

        <div class="countdown" id="countdown">
          <div><span id="days">0</span><small>Días</small></div>
          <div><span id="hours">0</span><small>Horas</small></div>
          <div><span id="minutes">0</span><small>Min</small></div>
        </div>

        <p class="section-text">
          Cada día queda un poco menos para celebrar juntos uno de los días más
          importantes de nuestras vidas.
        </p>
      </section>

      <!-- ÁLBUM -->
      <section class="section alt">
        <h2>Álbum de fotos</h2>

        <p class="section-text">
          Comparte con nosotros las fotos de este día tan especial.
        </p>

        <!-- <img src="assets/images/qr.png" alt="QR álbum" class="qr" /> -->

        <a href="#" class="btn">Ir al álbum</a>
      </section>

      <!-- MÚSICA -->
      <!-- <section class="section">
        <h2>Canciones imprescindibles</h2>

        <p class="section-text">¿Qué canción no puede faltar en la fiesta?</p>

        <input
          type="text"
          placeholder="Escribe tu canción favorita"
          class="music-input"
        />
      </section> -->

      <!-- GALERÍA -->
      <section class="section">
        <div class="section-inner">
          <h2>Nosotros</h2>

          <div class="polaroid-gallery">
            <figure class="polaroid">
              <img src="assets/images/foto1.JPEG" alt="Celia y Pablo" />
              <figcaption>Siempre juntos</figcaption>
            </figure>

            <figure class="polaroid">
              <img src="assets/images/foto2.JPEG" alt="Celia y Pablo" />
              <figcaption>Nuestro viaje</figcaption>
            </figure>

            <figure class="polaroid">
              <img src="assets/images/foto3.JPEG" alt="Celia y Pablo" />
              <figcaption>Un sí para siempre</figcaption>
            </figure>
          </div>
        </div>
      </section>
    </div>

    <!-- MÚSICA -->
    <audio id="music" src="assets/audio/audio.mp3" preload="auto"></audio>

    <div
      id="music-toggle"
      class="music-toggle paused hidden"
      title="Reproducir música"
    >
      <i class="fas fa-volume-mute"></i>
    </div>

    <script>
      const envelope = document.getElementById("envelope");
      const intro = document.getElementById("intro");
      const content = document.getElementById("content");
      const musicToggle = document.getElementById("music-toggle");
      const musicIcon = musicToggle.querySelector("i");
      const hint = document.querySelector(".hint");

      // CONTADOR
      const targetDate = new Date("2026-10-03T13:00:00").getTime();

      function updateCountdown() {
        const now = new Date().getTime();
        const diff = targetDate - now;
        if (diff <= 0) return;

        const values = {
          days: Math.floor(diff / (1000 * 60 * 60 * 24)),
          hours: Math.floor((diff / (1000 * 60 * 60)) % 24),
          minutes: Math.floor((diff / 1000 / 60) % 60),
        };

        Object.keys(values).forEach((id) => {
          const el = document.getElementById(id);
          if (el.textContent !== String(values[id])) {
            el.classList.add("change");
            setTimeout(() => {
              el.textContent = values[id];
              el.classList.remove("change");
            }, 150);
          }
        });
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);

      // ANIMACIÓN SECCIONES
      function initScrollAnimations() {
        const sections = document.querySelectorAll(".section");
        const observer = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
                obs.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.15 },
        );
        sections.forEach((section) => observer.observe(section));
      }

      // CLICK SOBRE
      envelope.addEventListener("click", () => {
        envelope.classList.add("open");
        hint.classList.add("hide");
        music.volume = 0.5;
        music.play();

        musicToggle.classList.remove("hidden");
        musicToggle.classList.add("visible");

        musicToggle.classList.remove("paused");
        musicToggle.classList.add("playing");
        musicIcon.className = "fas fa-volume-up";
        musicToggle.title = "Pausar música";

        // Mostrar tarjeta después de abrir solapa
        setTimeout(() => {
          envelope.classList.add("show-card");

          // Tras 2.5s, ocultar intro y mostrar contenido completo
          setTimeout(() => {
            intro.style.display = "none";
            content.classList.add("show");
            document.body.style.overflowY = "auto";
            window.scrollTo({ top: 0, behavior: "smooth" });
            initScrollAnimations();
          }, 4000);
        }, 900); // coincide con duración flap
      });

      musicToggle.addEventListener("click", () => {
        if (music.paused) {
          music.play();
          musicToggle.classList.remove("paused");
          musicToggle.classList.add("playing");
          musicIcon.className = "fas fa-volume-up";
          musicToggle.title = "Pausar música";
        } else {
          music.pause();
          musicToggle.classList.remove("playing");
          musicToggle.classList.add("paused");
          musicIcon.className = "fas fa-volume-mute";
          musicToggle.title = "Reanudar música";
        }
      });
    </script>
  </body>
</html>
